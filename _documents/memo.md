本ファイルは、開発中のメモです。

あまりルールは無い

# 質問内容

## 中間テーブル

Book::with('users')->get();

# 開発手順の参考

https://qiita.com/takahirocook/items/3cfa6585e74effafe5da

# メモ

## クエリに関するメソッド名

keyBy
groupBy
whereIn

# 仕様

## 役割

### 管理者

- どのページも全て操作可能

### 編集者

- 書籍の追加可能
- 書籍に著者の追加が可能
- 記事の編集可能

### 執筆者

- 書籍・記事の表示可、記事の編集可能

### 作業者：仮

- 画像の編集可能
- 書籍追加不可？
- template・library の追加・更新可能？（編集者と被る？）

# 2023/11/01

## roles は廃止する

権限は特に追加予定は無いので、一旦、管理者・編集者・執筆者の３種で固定する

役割毎の登録画面は別にする

- /register → 執筆者登録（お客様）
- /admin_register → 管理者登録
- /editor_register → 編集者登録

## contents テーブルは article に改名する

contents = 内容

article = 記事

のため、article の方が適当

## 画像について

### （DB 側）

#### ステータス

アップされた画像を使用するか？ 加工後の画像を使用するか？判定に使用する

#### 画像ファイル

user+ハッシュ値のフォルダに格納

加工後の画像を使用する？

加工後が AI だと表示できないので、サムネイル画像が必要

#### 必要＋工程が進行した時に必要になるファイル

- upload → アップロードファイル（加工するのに高画質ファイルが必要）
- upload_thumbnail → アップロード画像のサムネイル
- printed_data → 印刷用データ
- printed_thumbnail → 印刷用データのサムネイル

#### Path

UI に表示させるための URL？

### （UI 側）

入力に必要な情報

- 画像ファイルのアップロード
- ギャラリーからの選択
-

## 疑問点

### 書籍側の設定から担当者を変更した場合、記事に紐づけしたユーザーをどうするか？

#### Ａ案

記事に紐づけしたユーザーを強制解除

#### Ｂ案

記事に紐づけしたユーザーをチェックし、存在したらユーザー変更を抑制する

#### Ｃ案

記事に紐づけしたユーザーをチェックし、存在したら担当がいないことを通知する
